{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018-09-14/disabling-components-local-jekyll-builds/","result":{"data":{"site":{"siteMetadata":{"title":"Thomas Laurenson"}},"markdownRemark":{"id":"5952516f-51ee-51f3-92d4-51e416520a58","excerpt":"This post documents a simple, yet powerful, technique to enable or disable specific website content on Jekyll-powered websites.  Contents Introduction Default…","html":"<p>This post documents a simple, yet powerful, technique to enable or disable specific website content on Jekyll-powered websites. </p>\n<h2 id=\"contents\" style=\"position:relative;\"><a href=\"#contents\" aria-label=\"contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contents</h2>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#introduction\">Introduction</a></li>\n<li><a href=\"#default-jekyll-environment-values\">Default Jekyll Environment Values</a></li>\n<li><a href=\"#disabling-google-analytics-in-local-jekyll-development\">Disabling Google Analytics in Local Jekyll Development</a></li>\n<li><a href=\"#disabling-google-adsense-in-local-jekyll-development\">Disabling Google Adsense in Local Jekyll Development</a></li>\n<li><a href=\"#disabling-disqus-comments-in-local-jekyll-development\">Disabling Disqus Comments in Local Jekyll Development</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ul>\n</div>\n<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>The main reason I wanted to do enable/disable specific content on my Jekyll blog was to disable Google Adsense content when building and developing my Jekyll powered website. Google Analytics has an option to ignore user-specified IP addresses of development systems, but Google Adsense does not. Therefore, I wanted a simple and quick solution to remove the Google Adsense code from my local build while keeping the code when the website was deployed to GitHub pages. The solution: setting the Jekyll build environment and ignoring specific website content using conditional (if) statements.</p>\n<p>According to the <a href=\"https://jekyllrb.com/docs/configuration/environments/\">Jekyll documentation on Environments</a>, you can configure the arguments given to the <code class=\"language-text\">build</code> or <code class=\"language-text\">serve</code> commands to include the Jekyll environment. When you build or serve a Jekyll website, you can use conditional statements (<code class=\"language-text\">if</code> statements) to enable or disable specific code depending on the environment. Simply put, you can set the Jekyll <em>environment</em> when building or serving Jekyll to include, or exclude different content in your website. For example, the Jekyll documentation uses the following example:</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\"><span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> jekyll<span class=\"token punctuation\">.</span>environment <span class=\"token operator\">==</span> <span class=\"token string\">\"production\"</span> <span class=\"token delimiter punctuation\">%}</span></span>\n   <span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">include</span> disqus<span class=\"token punctuation\">.</span>html <span class=\"token delimiter punctuation\">%}</span></span>\n<span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span></code></pre></div>\n<p>This statement is quite straight-forward. The <code class=\"language-text\">jekyll.environment</code> variable is checked to see if it is equal to <code class=\"language-text\">production</code>… if it is, then the <code class=\"language-text\">disqus.html</code> HTML code is included the generated page. If the environment is not production, the <code class=\"language-text\">disqus.html</code> is simply not included. To put this example into a real-world context: you can enable Disqus comments to only be included on a Jekyll website when the environment is set to production.</p>\n<p>This leaves a major question… <em>How can you set the Jekyll environment?</em>. There is a variable called <code class=\"language-text\">JEKYLL_ENV</code> that can be set in the build, or serve, command. For example, a common command to build a Jekyll website is:</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">jekyll build</code></pre></div>\n<p>If you want to set the Jekyll build environment to production, you can include the <code class=\"language-text\">JEKYLL_ENV</code> variable with the build command, for example:</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">JEKYLL_ENV=production jekyll build</code></pre></div>\n<p>There are two commonly used values for the <code class=\"language-text\">JEKYLL_ENV</code> variable, which are self-explanatory by the naming convention:</p>\n<ul>\n<li><code class=\"language-text\">production</code></li>\n<li><code class=\"language-text\">development</code></li>\n</ul>\n<h2 id=\"default-jekyll-environment-values\" style=\"position:relative;\"><a href=\"#default-jekyll-environment-values\" aria-label=\"default jekyll environment values permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Default Jekyll Environment Values</h2>\n<p>So far we have discussed how to set the Jekyll environment and some basic examples of how it can be used to enable or disable content in your Jekyll-powered website. However, a key consideration is to determine the default Jekyll environment value. </p>\n<p>The official Jekyll documentation states that <strong>the default value for <code class=\"language-text\">JEKYLL_ENV</code> is development</strong>. So, if you build, or serve, a Jekyll-powered website, the environment value will always be <code class=\"language-text\">development</code>. This means that you have to explicitly set the environment value to <code class=\"language-text\">production</code> if you want to build, or serve, the Jekyll website in production mode.</p>\n<p>However, in some scenarios, you will not have full control over the Jekyll environment value. A great example is GitHub pages, where the default value for <code class=\"language-text\">JEKYLL_ENV</code> is <code class=\"language-text\">production</code>.</p>\n<ul>\n<li><strong>Lesson learned:</strong> The default Jekyll environment is <code class=\"language-text\">development</code></li>\n<li><strong>Lesson learned:</strong> The default Jekyll environment on GitHub pages is <code class=\"language-text\">production</code></li>\n</ul>\n<p>I always like code snippets when reading about some sort of configuration or setting. So I have provided a collection of examples of how to use the Jekyll environment to enable or disable specific website content. I have included an example for Google Analytics, Google Adsense and Disqus Comments.</p>\n<h2 id=\"disabling-google-analytics-in-local-jekyll-development\" style=\"position:relative;\"><a href=\"#disabling-google-analytics-in-local-jekyll-development\" aria-label=\"disabling google analytics in local jekyll development permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Disabling Google Analytics in Local Jekyll Development</h2>\n<p>Although you can disable Google Analytics data collection from specific IP addresses, it still makes sense to disable the service on your development build. For example, you may have a dynamic IP address from your ISP, or you may develop your website from multiple locations and it can become cumbersome to add numerous IPs to the Analytics filter. The code below displays an example of how to enable Google Analytics only on the production environment.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\"><span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> jekyll<span class=\"token punctuation\">.</span>environment <span class=\"token operator\">==</span> <span class=\"token string\">\"production\"</span> <span class=\"token delimiter punctuation\">%}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i<span class=\"token punctuation\">,</span>s<span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">,</span>g<span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">,</span>m</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">[</span><span class=\"token string\">'GoogleAnalyticsObject'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>r<span class=\"token punctuation\">;</span>i<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>i<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token operator\">||</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>q<span class=\"token operator\">=</span>i<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>q<span class=\"token operator\">||</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>i<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>l<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">*</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>a<span class=\"token operator\">=</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  m<span class=\"token operator\">=</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>a<span class=\"token punctuation\">.</span>async<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>a<span class=\"token punctuation\">.</span>src<span class=\"token operator\">=</span>g<span class=\"token punctuation\">;</span>m<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>m<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span>document<span class=\"token punctuation\">,</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'//www.google-analytics.com/analytics.js'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ga'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">ga</span><span class=\"token punctuation\">(</span><span class=\"token string\">'create'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UA-000000-1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'auto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">ga</span><span class=\"token punctuation\">(</span><span class=\"token string\">'send'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pageview'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span></code></pre></div>\n<p>In the above example, not how we place the entire Google Analytics script inside the Liquid <code class=\"language-text\">if</code> statement. This script will only be included when the environment is set to production.</p>\n<h2 id=\"disabling-google-adsense-in-local-jekyll-development\" style=\"position:relative;\"><a href=\"#disabling-google-adsense-in-local-jekyll-development\" aria-label=\"disabling google adsense in local jekyll development permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Disabling Google Adsense in Local Jekyll Development</h2>\n<p>Disabling Google Adsense is where setting the Jekyll environment really shines. There are no configuration options available in Adsense to turn off tracking/monitoring on local builds, or no option to disable specific IP addresses of development systems. The code snippet below illustrates pretty much the same solution as seen in the previous example used for disabling Google Analytics.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\"><span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> jekyll<span class=\"token punctuation\">.</span>environment <span class=\"token operator\">==</span> <span class=\"token string\">\"production\"</span> <span class=\"token delimiter punctuation\">%}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token punctuation\">(</span>adsbygoogle <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>adsbygoogle <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    google_ad_client<span class=\"token operator\">:</span> <span class=\"token string\">\"ca-pub-0000000000000000\"</span><span class=\"token punctuation\">,</span>\n    enable_page_level_ads<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span></code></pre></div>\n<h2 id=\"disabling-disqus-comments-in-local-jekyll-development\" style=\"position:relative;\"><a href=\"#disabling-disqus-comments-in-local-jekyll-development\" aria-label=\"disabling disqus comments in local jekyll development permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Disabling Disqus Comments in Local Jekyll Development</h2>\n<p>Again, we can see a very similar solution to disabling Disqus comments in a development build environment. However, I do not find this as useful, as there is no real negative effect to loading Disqus comments of a non-production environment. </p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\"><span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> jekyll<span class=\"token punctuation\">.</span>environment <span class=\"token operator\">==</span> <span class=\"token string\">\"production\"</span> <span class=\"token delimiter punctuation\">%}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">/* * * CONFIGURATION VARIABLES * * */</span>\n  <span class=\"token keyword\">var</span> disqus_shortname <span class=\"token operator\">=</span> <span class=\"token string\">'websiteshortname'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> disqus_identifier <span class=\"token operator\">=</span> <span class=\"token string\">'<span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{{</span> page<span class=\"token punctuation\">.</span>id <span class=\"token delimiter punctuation\">}}</span></span>'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* * * DON'T EDIT BELOW THIS LINE * * */</span>\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> page<span class=\"token punctuation\">.</span>include_comments<span class=\"token punctuation\">.</span>embed <span class=\"token operator\">or</span> layout<span class=\"token punctuation\">.</span>include_comments<span class=\"token punctuation\">.</span>embed <span class=\"token delimiter punctuation\">%}</span></span>\n      <span class=\"token keyword\">var</span> dsq <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> dsq<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">'text/javascript'</span><span class=\"token punctuation\">;</span> dsq<span class=\"token punctuation\">.</span>async <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      dsq<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'//'</span> <span class=\"token operator\">+</span> disqus_shortname <span class=\"token operator\">+</span> <span class=\"token string\">'.disqus.com/embed.js'</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'head'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>dsq<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span>\n    <span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">if</span> page<span class=\"token punctuation\">.</span>include_comments<span class=\"token punctuation\">.</span>count <span class=\"token operator\">or</span> layout<span class=\"token punctuation\">.</span>include_comments<span class=\"token punctuation\">.</span>count <span class=\"token delimiter punctuation\">%}</span></span>\n      <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> s<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">'text/javascript'</span><span class=\"token punctuation\">;</span> s<span class=\"token punctuation\">.</span>async <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      s<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'//'</span> <span class=\"token operator\">+</span> disqus_shortname <span class=\"token operator\">+</span> <span class=\"token string\">'.disqus.com/count.js'</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HEAD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BODY'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>noscript</span><span class=\"token punctuation\">></span></span>Please enable JavaScript to view the <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://disqus.com/?ref_noscript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nofollow<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>comments powered by Disqus.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>noscript</span><span class=\"token punctuation\">></span></span>\n<span class=\"token liquid language-liquid\"><span class=\"token delimiter punctuation\">{%</span> <span class=\"token keyword\">endif</span> <span class=\"token delimiter punctuation\">%}</span></span></code></pre></div>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>I hope you found this post useful and informative. The main thing I learned during researching and implementing this solution was that the default Jekyll environment is development, and the default GitHub pages Jekyll environment is production. This makes it exceptionally easy to enable or disable specific website content. If you have any feedback, questions or clarifications, please leave a comment below. Thanks!</p>","frontmatter":{"title":"Disabling Components on Local Jekyll Builds","date":"September 14, 2018","tags":["Jekyll","Blog"],"description":"Simple, yet powerful, technique to enable or disable specific website content on Jekyll-powered websites.","thumbnail":"jekyll.png"}},"previous":{"fields":{"slug":"/blog/2018-09-07/restricting-ssh-access-using-rssh/"},"frontmatter":{"title":"Restricting SSH Access using rssh"}},"next":{"fields":{"slug":"/blog/2021-01-24/lessons-learned-moving-a-jekyll-blog-to-gatsby/"},"frontmatter":{"title":"Lessons learned moving a Jekyll blog to Gatsby"}}},"pageContext":{"id":"5952516f-51ee-51f3-92d4-51e416520a58","previousPostId":"6755c232-5eee-5895-a189-53192f60f8d1","nextPostId":"2c06b980-2d38-5dcf-8ad2-30b3c64e4d38"}},"staticQueryHashes":["1771194231","2841359383","3880320062"]}